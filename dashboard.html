<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Web3 Dashboard</title>
  
  <!-- Add your NEW Moralis API key here (after you regenerate it) -->
  <script>
    window.__MORALIS_API_KEY__ = 'PASTE_YOUR_NEW_API_KEY_HERE';
  </script>
  
  <link rel="stylesheet" href="style.css">
</head>

<body class="dashboard-body">

  <!-- Sidebar -->
  <aside class="sidebar">
      <h2 class="logo">Crypto<span>Hub</span></h2>

      <nav class="menu">
          <a class="active">Dashboard</a>
      </nav>

      <!-- Logout button -->
      <button id="logoutBtn" class="logout-btn" type="button">Logout</button>
  </aside>

  <!-- Main Content -->
  <div class="main-content">

      <h1 class="page-title">Your Web3 Dashboard</h1>

      <!-- Network Selector -->
      <div class="network-selector">
        <button class="network-btn active" data-network="mainnet" onclick="switchNetwork('mainnet')">
            üåê Mainnet
        </button>
        <button class="network-btn" data-network="testnet" onclick="switchNetwork('testnet')">
            üß™ Testnet
        </button>
      </div>

      <p class="current-network">Connected to: <strong id="networkName">Mainnet</strong></p>

      <div class="grid">

          <!-- Wallet Card -->
          <div class="card glass">
              <h2>Wallet Address</h2>
              <p id="wallet" class="info">Loading...</p>
          </div>

          <!-- Balance Card -->
          <div class="card glass">
              <h2>Portfolio Value</h2>
              <p id="portfolioValue" class="info small">loading...</p>
              <br>
              <h3>ETH Balance</h3>
              <p id="ethBalance" class="big-info">Loading...</p>
              <p id="ethPrice" class="info small"></p>
          </div>

          <!-- Token List (table) -->
          <div class="card glass wide">
              <h2>Your Tokens (Real-time)</h2>

              <table class="token-table" style="width: 100%; border-collapse: collapse;">
                  <thead>
                      <tr style="background: rgba(77,210,255,0.1); border-bottom: 2px solid rgba(255,255,255,0.2);">
                          <th style="padding: 12px; text-align: left;">Token</th>
                          <th style="padding: 12px; text-align: left;">Amount</th>
                          <th style="padding: 12px; text-align: left;">Avg Price</th>
                          <th style="padding: 12px; text-align: left;">Current Price</th>
                          <th style="padding: 12px; text-align: left;">Profit/Loss</th>
                          <th style="padding: 12px; text-align: left;">Current Value</th>
                          <th style="padding: 12px; text-align: left;">Action</th>
                      </tr>
                  </thead>

                  <tbody id="tokens">
                      <tr>
                          <td colspan="7" style="padding: 20px; text-align: center;">Loading...</td>
                      </tr>
                  </tbody>
              </table>

          </div>

          <!-- Token Tracking with Average Buying Price -->
          <div class="card glass wide">
              <h2>Token Tracking (Average Buying Price & P&L)</h2>

              <table class="token-table" style="width: 100%; border-collapse: collapse;">
                  <thead>
                      <tr style="background: rgba(77,210,255,0.1); border-bottom: 2px solid rgba(255,255,255,0.2);">
                          <th style="padding: 12px; text-align: left;">Token</th>
                          <th style="padding: 12px; text-align: left;">Amount</th>
                          <th style="padding: 12px; text-align: left;">Avg. Buy Price</th>
                          <th style="padding: 12px; text-align: left;">Current Price</th>
                          <th style="padding: 12px; text-align: left;">Total Spent</th>
                          <th style="padding: 12px; text-align: left;">Current Value</th>
                          <th style="padding: 12px; text-align: left;">Profit/Loss ($)</th>
                          <th style="padding: 12px; text-align: left;">Profit/Loss (%)</th>
                      </tr>
                  </thead>

                  <tbody id="tokenTracking">
                      <tr>
                          <td colspan="8" style="padding: 20px; text-align: center;">Loading token history...</td>
                      </tr>
                  </tbody>
              </table>

          </div>

      </div>

  </div>

  <!-- Order is VERY important -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
  <script src="script.js"></script>
</body>
</html>